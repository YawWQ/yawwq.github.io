---
layout: post
title:  "遗传算法"
date:   2019-12-11"
excerpt: "The genetic algorithm models the genetic process that gives rise to evolution."
tag:
- 机器学习
comments: false
---

考虑背包问题(knapsack problem)，给定一组物品，每种物品都有自己的重量和价格，在限定的总重量内，我们如何选择，才能使得物品的总价格最高。

## 1. 遗传算法

### 1.1.1 字符串表示

遗传算法(GA)使用字符串(string)，字符串的每个元素相当于基因，从某些字母表(alphabet)中选择。背包问题的字母表可以类似表示为字符串：(0, 1, 1, 0)，表示选择中间两个物品带走。

这个字符串不一定是正确并最优的，需要确定每个字符串满足问题标准的程度，也就是字符串的适应度。

### 1.1.2 评价适应度

适应度函数(fitness function)可以被看成一个预测，作用于字符串且返回值来评价字符串。对于背包问题来说，适应度函数最好的方案就是能把物品全放进包里，所以需要检查，如果不能，这个方案的适应度就降低。如果一个字符串即一个方案中，所有物品都不能放进背包，它的适应度就是0。

### 1.1.3 种群

GA作用于由种群组成的字符串，第一代种群通常随机产生，然后评价字符串适应度，再生成第二代……

背包问题的初始种群可以用随机数生成器创建长度为L的随机二进制字符串：

pop = np.random.rand(popSize,stringLength)

pop = np.where(pop<0.5,0,1)

现在需要的是从种群中选择父母，开始繁殖

### 1.1.4 产生后代：选择父母

联赛选择：反复从种群中挑选四个字符串，替换并将最适合的两个字符串放入交配池。

截断选择：仅按比例f挑出适应最好的一部分并忽略其他的。例如f=0.5，前50%的字符串将被放入交配池，并且被等可能地选择。

适应度比例选择：按概率选择字符串，每个字符串被选择等概率与它们等适应度成比例，通常选择函数：

$$\frac{Fa}{\sum_{a‘}Fa'}$$

$$\frac{sqrt[a]{F}}{\sum_{a‘}Fa'}$$
